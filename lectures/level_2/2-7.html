<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      ;
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link rel="stylesheet" href="./2-7.css" />

    <title>스크롤 이벤트</title>
  </head>
  <body>
    <nav class="navbar">
      <div class="logo">
        <img class="logo_img" src="../../assets/logo.svg" />
        <span class="logo_text">마법연구회</span>
      </div>
      <div class="scroll-progress"></div>
    </nav>
    <h3 style="margin-top: 90px">약관</h3>
    <div class="lorem" style="height: 200px; overflow-y: scroll">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora
      perspiciatis et incidunt in magni earum! Nobis enim quidem atque
      architecto facilis? Repellendus corrupti possimus odio laborum, aliquid
      quam non maiores minima quaerat dicta veniam et exercitationem dolores
      animi. Expedita soluta optio cupiditate, deleniti dolore, voluptatibus
      incidunt voluptas quisquam alias autem nisi omnis quas blanditiis ipsam
      ullam explicabo numquam doloremque. Dolor consectetur saepe dolore
      adipisci architecto provident debitis placeat facilis rem optio porro modi
      ipsa delectus minus iure cum cupiditate necessitatibus aperiam quae
      perferendis, iste ipsum. Ullam officiis et laudantium. Fugiat quisquam
      repudiandae dolores, ex quaerat repellendus magnam harum qui ipsam totam
      dolorum odit officia sit voluptatibus adipisci perspiciatis nobis,
      doloremque ipsum nesciunt sequi numquam eligendi unde? Perspiciatis
      aspernatur, repudiandae veritatis nisi assumenda ipsam repellat enim,
      necessitatibus doloribus aut nesciunt minima dolor commodi harum! Omnis,
      perspiciatis? Corporis adipisci saepe nemo cumque ipsam quo deserunt
      magni. Laudantium unde ex optio fuga sint, consequatur, perspiciatis quam
      voluptate repellendus enim numquam totam commodi fugit quibusdam saepe
      ullam itaque error necessitatibus reiciendis velit qui eaque. Veritatis
      temporibus optio quasi nisi dolor officia, nemo tempora quis fuga
      asperiores ullam in atque inventore voluptate, impedit sint repellat eos
      quam consequuntur ut necessitatibus commodi accusamus, aspernatur a. Ipsa
      dolores laudantium, suscipit, vitae doloribus, perferendis praesentium
      quidem expedita illum placeat similique! Facilis excepturi odio
      voluptatibus vel nihil quis ducimus, error culpa mollitia iste veritatis.
      Eveniet pariatur et, dolorem quasi id quas quis ullam magnam cum, quidem
      explicabo deleniti sint nisi? Impedit, veniam. Perferendis facere magni
      esse similique, repellendus iure odio numquam dolores modi corporis earum!
      Aspernatur temporibus ipsum tempore ut autem fugit. Unde blanditiis aut
      maiores ipsam dolorum omnis optio porro animi vel culpa ipsa temporibus
      debitis ullam, a deleniti soluta officiis voluptas aperiam vitae quisquam
      aliquid dolor dolore? Vel labore autem atque asperiores deleniti et sunt,
      dicta explicabo dolore sapiente incidunt molestiae temporibus natus sequi
      quisquam facilis dignissimos voluptates esse expedita quo, omnis eos qui!
      Quaerat corporis expedita ratione velit aliquid provident, inventore eum.
      Id debitis, consequatur odio voluptas dignissimos maiores necessitatibus
      suscipit molestias, inventore tenetur, facere a quis. Exercitationem
      quisquam vero veritatis in animi deserunt corrupti eos, repellat adipisci
      excepturi iure temporibus illo nam vel amet. Beatae sit error velit non,
      laboriosam iusto odit tenetur voluptates, nihil inventore unde quibusdam
      debitis maxime officiis magni culpa molestiae. Eaque illum alias dolorum
      inventore, voluptas quasi numquam ad accusamus sint! Cum facilis hic,
      deserunt repellat at nisi aliquam, obcaecati cupiditate, officiis eum
      beatae. Exercitationem nemo autem nulla labore non at debitis. Ab, ipsa
      cumque culpa hic beatae soluta incidunt, voluptate rem quidem atque
      laudantium tempore magni alias earum facilis est nulla vero sunt fugiat
      voluptates illo? Minima aspernatur porro deserunt rem dignissimos sint
      ipsum voluptate eos quas. Nihil soluta est, eveniet ipsa harum cupiditate
      nulla quod laboriosam? Tempora magnam vero quae aspernatur corrupti est
      dicta at sit asperiores non nulla earum adipisci in itaque quo magni,
      possimus deserunt placeat veritatis eaque! Soluta necessitatibus libero
      perferendis nam at exercitationem expedita nemo nisi laudantium commodi
      suscipit, molestias accusantium dolores officiis tempora pariatur
      repudiandae ullam laborum. Nisi voluptatum soluta cumque repellendus
      corporis, molestiae nesciunt at modi exercitationem quaerat dolorum eius
      cum odio necessitatibus deleniti vitae rerum eaque minima natus
      consequatur obcaecati accusamus totam omnis! Maiores, fugit sequi? Eum
      exercitationem quae, ipsa necessitatibus vel architecto aliquid alias
      eaque. Quos voluptate debitis cum vero pariatur. Iste sed quis tenetur,
      repellat voluptatibus ut aut hic at natus nihil odit vel nemo quos ipsam!
      Repellendus ab voluptas nihil unde nemo quod impedit iusto eveniet
      possimus provident eum aliquam ut sit, ullam architecto ea doloremque
      soluta recusandae explicabo earum at sint expedita itaque harum! Illum,
      libero perferendis eligendi nemo saepe hic quidem aliquam quam natus rem
      amet magni quaerat fugit, alias, sit pariatur praesentium minima ipsum
      explicabo! Illum rem autem obcaecati vero, magni vitae ab ducimus quisquam
      facere ullam, ipsa porro blanditiis commodi labore sapiente quaerat minus
      nulla hic optio? Nesciunt ipsam nulla culpa iste omnis veritatis corporis
      doloribus soluta quas, sit perspiciatis, exercitationem hic repudiandae
      modi ipsa quod, laudantium rem reiciendis repellat pariatur? Molestiae
      illo voluptates aspernatur! Quae aut dolores ipsa omnis! In sequi
      inventore deleniti totam repudiandae sapiente est, hic laborum optio
      illum. Quidem sint, ipsa aperiam veniam voluptate non necessitatibus
      facere. Sapiente nostrum voluptatem omnis exercitationem laboriosam.
      Nesciunt a fugit ipsum ea molestias voluptatem soluta deserunt quidem
      distinctio, iure minima reprehenderit quae consequatur sed, mollitia ipsa
      quam quia expedita similique. Pariatur, id commodi laudantium reiciendis
      similique officiis, inventore cupiditate asperiores temporibus corrupti
      saepe doloremque quo ex exercitationem distinctio unde? Ex blanditiis
      similique voluptates impedit cum!
    </div>
    <button disabled class="agree-button">약관에 동의합니다</button>

    <script>
      window.addEventListener('scroll', function () {
        // console.log('scrollX' + window.scrollX);
        // console.log('scrollY' + window.scrollY);

        // 이거는 그냥 기본 자바스크립임(scrollTo, scrollBy)
        // x, y좌표 절대적 좌표로 스크롤 이동
        // window.scrollTo(0, 200);

        // 스크롤이 일어나기만 하면 계속 n씩 내려감(상대좌표라고 보면 됨)
        // window.scrollBy(0, 2);

        // jQuery는()$ 들어가면
        // console.log('scrollY: ' + $(window).scrollTop());
        // Y에 대해서는 좌표 하나만 적어도 됨(Y만 움직이니깐)
        // $(window).scrollTop(500);
        if (window.scrollY > 100) {
          $('.logo_img').css('height', '48px');
          $('.logo_text').css('fontSize', '21px');
        } else if (window.scrollY <= 100) {
          $('.logo_img').css('height', '64px');
          $('.logo_text').css('fontSize', '28px');
        }

        // 잔체 스크롤 할 수 있는 양 대비 퍼센트로 나누면 됨
        // 현재 스크롤 위치 / 전체 스크롤 양 * 0.01

        $('.scroll-progress').css(
          'width',
          ($(window).scrollTop() /
            (document.querySelector('html').scrollHeight -
              document.querySelector('html').clientHeight)) *
            100 +
            '%'
        );
        // document.querySelector('.scroll-progress').style.width = progress + '%';
        // $('.scroll-progress').css('width', '${progress}');
      });

      $('.lorem').on('scroll', function () {
        // console.log($('.lorem').scrollTop());
        console.log('scrollTop:' + document.querySelector('.lorem').scrollTop);
        console.log(
          'scrollHeight:' + document.querySelector('.lorem').scrollHeight
        );
        console.log(
          'clientHeight:' + document.querySelector('.lorem').clientHeight
        );

        var scrollTop = document.querySelector('.lorem').scrollTop;
        var scrollHeight = document.querySelector('.lorem').scrollHeight;
        var clientHeight = document.querySelector('.lorem').clientHeight;

        if (scrollTop + clientHeight >= scrollHeight - 10) {
          $('.agree-button').prop('disabled', false);
        }
      });

      $('.agree-button').on('click', function () {
        $('.agree-button').toggleClass('agreed');
      });
    </script>
  </body>
</html>
