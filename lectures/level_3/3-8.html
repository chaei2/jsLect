<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      ;
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <title>정렬 버튼 만들기</title>
  </head>
  <body>
    <div class="container">
      <button class="btn btn-danger" id="sort-name">교수명 오름차순</button>
      <button class="btn btn-danger" id="reverse-letter">
        강의명 내림차순
      </button>
      <button class="btn btn-danger" id="filter-2">2학년</button>
      <button class="btn btn-danger" id="filter-3">3학년</button>
      <button class="btn btn-danger" id="filter-4">4학년</button>
      <div class="row"></div>
    </div>

    <script>
      function makeCards(obj) {
        obj.forEach((a) => {
          var newCard = `
        <div class="card m-2 pt-2">
          <h5>${a.grade} ${a.title}</h5>
          <p>교수명 : ${a.professor}</p>
        </div>
      `;
          $('.row').append(newCard);
        });
      }

      var lectures = [];

      // 한 번에 input 하고 싶으면 when 씀
      // , 로 되고, done에는 콜백함수 넣어준다.
      // ...은 하나의 배열을 lectures에 다 넣어주는거임

      $.when(
        $.get('https://jaehun-kang.github.io/MRS_JS_Lecture/lectures.json'),
        $.get('https://jaehun-kang.github.io/MRS_JS_Lecture/more1.json'),
        $.get('https://jaehun-kang.github.io/MRS_JS_Lecture/more2.json')
      ).done(function (grade2, grade3, grade4) {
        lectures = [...grade2[0], ...grade3[0], ...grade4[0]];
        makeCards(lectures);
      });

      // 교수명 오름차순
      $('#sort-name').on('click', function () {
        lectures.sort((a, b) => {
          if (a.professor < b.professor) {
            return -1;
          } else if (a.professor == b.professor) {
            return 0;
          } else if (a.professor > b.professor) {
            return 1;
          }
        });
        // console.log(lectures);
        $('.row').html('');
        makeCards(lectures);
      });

      // 강의명 내림차순
      $('#reverse-letter').on('click', function () {
        lectures.sort((a, b) => {
          if (a.title < b.title) {
            return 1;
          } else if (a.title == b.title) {
            return 0;
          } else if (a.title > b.title) {
            return -1;
          }
        });
        // console.log(lectures);
        $('.row').html('');
        makeCards(lectures);
      });

      var arr = [7, 3, 5, 2, 10];
      // ㄱ > ㅎ

      // retrun이 음수면 b를 오른쪽으로, 양수면 b를 왼쪽으로
      // a - b도 가능함
      arr.sort((a, b) => -1);
      console.log(arr);

      // 3보다 큰 값 반환(필터링)
      var newArr = arr.filter((a) => a > 3);
      console.log(newArr);

      // 맵 -> a 에 2를 전부 다 곱해주는거임
      newArr = arr.map((a) => a * 2);
      console.log(newArr);

      var arr2 = ['a', 'c', 'b', 'a'];
      // 오름차순
      arr2.sort((a, b) => {
        if (a < b) {
          return -1;
        } else if (a == b) {
          return 0;
        } else {
          return 1;
        }
      });
      // 내림차순
      arr2.sort((a, b) => {
        if (a < b) {
          return 1;
        } else if (a == b) {
          return 0;
        } else {
          return -1;
        }
      });

      // sort 자리에 reverse에 들어가도 되긴함.
      // 차이점: 문자열만 들어있는 경우는 reverse를 써도 됨.
      // 하지만, 지금 letures안에 있는 다른 것들도 비교하는거라 정상적으로 작동하지 않는거임.
      // 단순한 형태면 reverse 사용해도 좋음.
      // reverse는 좀 잘 작동하지 않아서, sort를 쓰는 것을 추천함.

      console.log(arr2);
    </script>
  </body>
</html>
